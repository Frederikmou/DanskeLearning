@using Core.Models
@using DanskeLearning.Services.ArticleService
@using DanskeLearning.Components
@inject IArticlesService ArticleService
@page "/ArticleDetails/single/{articleId:int}"

<BackArrow Url="@($"/ArticlePage/{articles?.FirstOrDefault()?.subjectId}")"/>

@if (articles == null)
{
    <p>Artikel utilgængelig</p>
}

else
{
    @foreach (var a in articles)
    {
        <div class="article-container">
            <h3>@a.title</h3>
            <p>@a.content</p>
        </div>
        <ArticleReadToggle ArticleId="@a.articleId" />
    }
}

@code {
    [Parameter] public int articleId { get; set; }

    private List<Articles> articles;
    
    protected override async Task OnInitializedAsync()
    {
        articles = await ArticleService.GetSingleArticlesAsync(articleId);
    }

}